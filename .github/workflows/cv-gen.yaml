
name: Run CV Gen
on:
  push:
    branches:
      - main
jobs:
  prereq:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v3
    - uses: actions-rs/toolchain@v1
      with:
        toolchain: stable
    - uses: Swatinem/rust-cache@v2
    - uses: actions-rs/cargo@v1
      with:
        command: build
        args: --release --all-features
    - run: target/release/nirnanaaa
    - id: commit_files
      name: Commit files  
      run: |
        git config --local user.name actions-user
        git config --local user.email "actions@github.com"
        git add CV.pdf
        git commit -am "Updated CV at $(date) [skip ci]"
        git push -f origin main